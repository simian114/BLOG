---
title: 블로그의 색을 정하자 theme 을 곁들인..
date: 2023-04-11
isPublished: true
publishedAt: "2023-04-13"
description: 색만 정돈되게 잘 사용해도 중간은 간다.
tags:
  - { content: "color", colorType: "primary" }
  - { content: "radix", colorType: "secondary" }
  - { content: "theme", colorType: "tertiary" }
---

## radix-color 의 힘을 빌리자

radix-color 는 기본적으로 light / dark theme 을 모두 제공해준다..!

색은 아래처럼 정했다.

- gray: slate
- primary: cyan
- secondary: crimson
- tertiary: yellow

---

## theme toggle 기능을 구현해보자.

theme toggle 기본적인 스펙은 아래와 같다.

1. 처음 사이트에 접근 시 system 의 설정을 따라간다.
2. 만약 한번이라도 theme toggle 을 한다면, 브라우저의 스토어에 선택된 theme 정보를 저장한다.
3. theme 정보가 저장된 상태에서 사이트에 접근 시 첫 화면에 theme 을 적용한 상태로 보여준다.

- 깜빡임 없이...

### 사용자 system 의 설정을 따라가기

- media query 를 사용하면 된다.

---

### theme 을 선택 후 사이트에 접근 시 theme 을 적용한 모습 보여주기

현재 선택된 theme 의 정보를 이용해서 html body 의 class 명에 theme 을 넣는 방식으로 구현했다.
따라서 유저가 첫 html 을 요청할 때 특정 정보를 확인하고, html 에 class 명을 서버에서 지정 후에 보내주도록 구현했다.

<br />
<br />
#### 쿠키로 theme 정보를 저장하자

쿠키로 theme 정보를 저장시 가질 수 있는 대단히 큰 이점이 있다. 바로 쿠키는 서버에 요청시 자동으로 메댤려저서 보내지기 때문에, 서버는 클라이언트의 정보를 바로 알 수 있게된다.
즉, theme 이 쿠키에 들어가있는 사람이 서버로 요청을 보내면 서버 입장에서는 유저의 현재 theme 을 알 수 있고, body 의 class 에 theme 정보를 녹여내서 유저에게 보내줄 수 있게 된다.

<br />
<br />

### 문제: 분명 static 한 페이지인데 build 를 하면 SSR 이 되어버린다.

원인은 서버에서 쿠키를 이용해 `동적` 으로 body 를 그려주고 있었기 때문임. cookie 링크 참고할것.

<br />
<br />

### 유명한 라이브러리를 참고하자.

> next theme 을 참고.

---

## theme 을 상태로 관리하기...

이건 다음기회에
